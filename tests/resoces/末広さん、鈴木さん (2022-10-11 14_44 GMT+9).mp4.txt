▼ Transcription of 末広さん、鈴木さん (2022-10-11 14:44 GMT+9).mp4
これが今ある。こんな感じで定期的にお二人でいい感じで話していただくっていうのと、あと今後の社内教育用にできればこれを録画していただけるのがありがたいです。はい。先生さん大丈夫ですか?はい、大丈夫です。今日は早速、僕の中に別の話題があるので。はい、わかります。あとは定期的にお二人でよろしくお願いします。基本的に大まかな部分しかないんですけど、これの、これか。これが大体、どんな部分でも必要になる構成で、こいつは僕が最近趣味のところでやってる。固まっちゃったな。ロボット。どういう筐体とかどういうプロペラ構成でも、これがベーシックな構成です。まずバッテリーがあって、パワーモジューリーって呼ばれるデコデコの部分ですね。DC、DCコンバーターとして、その弱電側に電力を供給したりとか、電流を測定したりだとか、っていうものがあって、その後に分電板が大体きます。電流量はバッテリーから直ぐの部分じゃないと取れない。取れないというか、正確な値にならないんで、大体バッテリーのすぐ後にパワーモジュールがあって、パワーモジュールが弱電系に電源を供給しつつ、分電板にそのまま電流だけ測って流して、分電板から、例えば、6発機だったらESCが6個。ESCは分かりますよね。モーターコントロールって、何の略だかちょっと忘れちゃったんだけど。エレクトリカルスピードコントローラー。そうだ、スピードコントローラー。があって、ESCが大体、酸素交流モーターだったら酸素交流のパルスを出して、ブラシモーターだったら電圧のコントロール、出力から電圧を変換してスピードのコントロールをします。そこにPIXHAWKになり、フライトコントローラーと呼ばれるメインのモジュールがあって、そいつがESCに指令信号を出しています。パワーモジュールから電源をもらって、電流値とか電圧とかもらっています。そのフライトコントローラーがそれと別にGPS、これモザイクシーラスって書いてますけど、GPSだったりRCだったり、エアトラックの場合はあいつがいるので、ラズパイがいるので、ラズパイとか、ラズパイからまたカメラがあったりとか、LTEモジュールがあったりとか、大まかに強電弱電で対象構成はこれです。エアトラックでいうと、フライトコントローラーがPIXHAWKのところにドカンと真ん中にいるようなイメージで、そこに4Dのモーターとかもここにぶら下がっている感じになっているんですけど、そうなんですかね、エアトラック。4D。チルトの。はいはいはい。チルトのモーターとかもフライトコントローラーにつながっています。基本的には姿勢制御、姿勢に関するモーター類は全部フライトコントローラーにつながっています。インターネットに抜けたりとか、スマートフォンとか、ちょっと処理負荷の高いものがラズパイにつながっているという形ですね。そういうことですか。LTEでダウンロードしたりするのはラズパイにつながるイメージですか?ダウンロードしたりするって言っているのは、フライトプランなど。フライトプランは一回インターネットに抜ける必要があるので、一回ラズパイがLTEモジュールにつながって、LTEモジュールが通信したのをPIXHAWKが今度フラコンに書き込むってことですね。そういう風になるのか。あの、まあ、共伝用のMMUとかって、プロトコルスタックが有償だったりとかはなかったりするんですよね。で、なおかつ、通信のものって、ハングアップしたりするケースとか、タイムアウトしたりするケースとか、ウェイトを結構するケースが多くて、それを制御系、姿勢制御系に混ぜると、予期せぬ動作をするっていうケースが多くて、ドローン系だとだいたい、フライトコントローラーって言われている姿勢制御ユニットと、コンパニオンコンピューターって言われている、ちょっと高度な処理をする。例えば、AI積んで周りのものをスキャンするとか、例えば、LTE通信をするとか、あとはカメラを解析するとか、っていうのが今の主流です。ぶっちゃけ、ラズパイは止まっても落っこちないっていうのが保証できてないと、怖くて使い物にならない。オープンソースがメインにどうしてもなるっていうのもあり、プロセス保護があるとはいえ、予期せぬ動作停止をする可能性がある。プロトコルとか、大きいデータをいきなりぶん投げられて固まるとか、そこまでの品質をPIXHawk側で全部担保しつつ作ると、莫大な予算がいるので、そこはうまいこと、タイミングにシビアなやつは、そういうタイミングにシビアなものだけにフォーカスして、PIXHawkなりフライトコントローラー、川に乗せて、コンパニオンコンピューターは、何かあったら再起動すればいいぐらいのスタンスで設計されていることが多い。【加藤】すいません、ちょっと鼻水が。なので、基本的な回路図の見方としては、そういう構成になっているっていうのを前提に置いておいてもらえれば、読みやすいかなと思います。あと、このそれぞれの箱の役割みたいなものは、また次回から教えていただけるとありがたいですね。ちょっとビジュアルをもう一回送ってもらった方がいいかな。僕が持ってるのはビジュアルっていうか、ブロック図?【加藤】はいはいはい。PDFの方がいいな。ビジュアルを開けるのに。【加藤】PDF、はい。大まかな構成自体は変わってないと思うので、見ればわかると思うんだけど。【加藤】どこにあるか教えてもらっていいですか?さっと見といた方が。画面を共有します。今画面見えてますか?【加藤】見えてます。技術部の共有が見えてます。PCの画面ですか?それは表示されてないですね。表示されてないですか。違うね。これか。これで見えますか?見えます。技術部のドライブの中のプロダクトですね。AirTrackの決戦図って中に入ってたやつです。AirTrack。あれ、AirTrackの中は僕見えないですね。見えないですか?AirTrack再設計か。AirTrack再設計も。コンモジュールか。違うの?プロダクト、AirTrack、決戦図。それしか出てきてないですね。あれ、プロダクト、AirTrack?プロダクト、AirTrack。プロダクトの中にこの2つのフォルダがあるんですよ。ありました。プロジェクトだった。03プロダクトですね。03プロダクト。03プロダクト。で、あとは。この中のPowerPointの。はい、わかります。難しいのは多分PWMバッファーとかかな。PWMバッファー。はい。難しいっていうか、わかりにくいっていうのはPWMバッファーだと思います。それ以外はベーシックな作りのやつとあんまり変わらないかな。これ開いてた。でもこれあれですね。PowerCube V3とかついてるから、実は古いやつをだましだまし使ってるな。古いんですか、これ。多分VFRさん変わったモジュールを追従してる。追従せずに使ってますね、これ。そんなに大きい変更じゃないけど。今見えてるこのフライトコントローラーって真ん中にくるんですよね。そうですね。それにぶら下がって、このPWMバッファーっていうのはモーターのコントロールでいいんですかね。PWMバッファーは絶縁処理用の板ですね。電動機、モーターとかサーボとかってものすごいグラウンドが揺れるんですよ。グラウンドのアイソレーションってことですか。そうですね。なので、多分、だいたい感覚的には使ってる電圧の5%ぐらい。なので、これ24?24ですね。24の5%でしょ。1.2とかか。体感もうちょっとだな。1割、ティーク1割ぐらい。アベリティ5%みたいな感じで、グラウンドが2Vぐらい上がってくるんですよ。2.4Vぐらい上がってくるんで、それをそのまま弱電につなげるとですね。5Vで動いてるICにノイズを2.4V与えるっていうちょっとファンキーな感じになる。そうですね。そういうことか。なので、そこのグラウンドとか電源系のアイソレーションはないと、突然フライトコントローラーとかラズパイがリセットされて落ちます。そういうことか。はい、わかりました。なるほど。揺らさないようにしておいて、アルファESCっていうのがモーター制御やるってこと?そうですね。ESCですね。はい。で、実際モーターにいってプロプラか。はい。この3本UVWっていうのがPWMの3本線なのか?PWMではなくて、UVWは3層のモーター用の3層交流振興ですね。ブラシレスモーターなんで、その3層交流のモーター用の3インハを作ってあげる必要があって。それがだいたい業界的にはUVWで表記するんですよね。なるほど。U波、V波、W波みたいな感じなんですか?3インハの。そうですね。コネクタの位置でだいたいUVWみたいな。上から見てUVW。あれなんでなんですかね。僕もあんまりよく理解してない。なんでそういうワードチョイスになってるのか。会社によっても多分違うと思うけど。分かりました。このフライトコントローラーを中心に左に行ったときですけど、一番上のテラレンジャー2。テラレンジャーは即位、即挙モジュールです。距離を測る?地上までの。下向きのセンサーですね。ソナーっていう人もいるけど。まあ、音響じゃないからソナーじゃないだろうって僕は思います。そうですね。光、TOFセンサーとも言いますね。音波じゃなくて光。そうですね。光か。光の反射を見る感じなんですかね。そうですね。TOFセンサーは光の反射というか、厳密にはちょっと違うんだけど、多分TOFセンサーで検索すれば出てくると思います。はい、調べます。基本、赤外線の距離センサー。赤外線ですか。テラレンジャーは赤外線だったと思う。わかりました。その下のコンバーターは文字通りコンバーターなんで何をコンバートするんだろう。そっちの画面が見えるように移動しちゃったからこれを使って。コンバーター、コンバーター。コンバーター。これコンバーターじゃないですね。違うんですか。これ厳密に言うとコンバートはしてなくて、その左にレシーバーがR7008SBってやつが、これは双葉のプロポにつながるレシーバーなんで、その間に入っている2つのレシーバーが、これが2つのレシーバーで、これは双葉のプロポにつながるレシーバーなんで、その間に入っている2つつなげるようなやつは、プロポ、ダブルプロポの切り替え機です。なるほど。切り替えか。今日はこのページだけ終わらせたいんですけど大丈夫ですか、お時間。大丈夫ですよ。その下のサーキット4、これは単純に。これはステータスLEDを延長するために、ステータスLEDのケーブルがちょっと短くて、それを延長するために、その間に同じコネクターが刺さるやつとかって言って、つけてるだけじゃないか。そうなんですか。ステータスLEDのステータスはどこかに記載があるんですかね。何色だったら何を。それはACSLの仕様だな。どこかに記載あるかな。どこかに探し終えばあるかな、ドライブに。ちょっと分からないですけど、そのプロトコルとかはACSLオリジナルだから、あんまり深く考えなくてもいいかなと思う。わかりました。その下のGPS、これは同じとおりGPSですよね。そうですね。今、エアトラックだと、SPARKファンのF9Pボードが載ってるのかな。何ファン?SPARKファン。F9RかF9Pがついてる。一番下のやつが920HP。これがLTEですか?920は、これEASELはLTEじゃないんですよ。EASELって言ってるやつは特殊性の920なんですよね。特殊?特殊用?特定省電力無線。特定省電力。なので、普通にUARTで飛ばして通信する資料があるんですけど、通信するシリアルをそのまま無線に乗せて通信する用のボードですね。なるほど。これは何の通信に使うんですかね?これはフライトコントローラーとPCをつなぐためですね。LTEがない状態とかで飛ばせるように、標準は920EASELです。ACSLスペックなんですけどね。ACSLスペックは。AERONEXTで標準的に使ってるのは多分、このEASELの920の代わりにJigbee使ってると思います。Jigbee。安いし。なるほど。これはACSLだからこれを使うってことですか?そうですね。何かしらついてはいるんですけど、PCとシリアルでつなぐための無線モジュールって。ACSLスペックはこの920EASELモジュールを使ってて、AERONEXTは標準でJigbee?はい。って感じですね。この920EASELのモジュール1個は1万5千円とかかな?1万5千円。うーん。安く、安いっちゃ安いけど、なんか、うーん。まあ、どうなんだろうみたいな。はい、わかりました。ありがとうございます。ちょっと自力でキーワードもらったやつで勉強してみます。はい。じゃあ来週でこの時間でもよろしいですかね。2ページ目3ページがあるんで。はい、大丈夫です。来週、来週、来週。時間はここでもいいけど、毎週ここでいいかと聞かれると。はい。まあいいか。OKです、大丈夫です。大丈夫ですか。じゃあ18日の14時半。はい。インビテーションを送っておいてもらえると。わかりました。じゃあ14時半で設定してインビテーションを送ります。14時からでもいいですよ。14時でもいいですか。はい。じゃあ14時、15時で1時間で2ページ目3ページ目やらせていただいていいですかね。はい、大丈夫です。ありがとうございます。はい。じゃあインビテーションを作ってお送りしますのでよろしくお願いします。はい、よろしくお願いします。ありがとうございました。はい、失礼します。失礼します。